<style>
.password-page-wrapper {
  font-family: 'IBM Plex Mono', monospace;
  background: #2a2a2a;
  color: #fff;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.password-content {
  text-align: center;
  max-width: 500px;
  width: 100%;
}

.password-logo {
  margin-bottom: 4rem;
  font-size: 3rem;
  font-weight: 600;
  letter-spacing: 0.05em;
}

.password-form-wrapper {
  position: relative;
}

.password-input-box {
  border: 2px solid #fff;
  padding: 1rem;
  display: flex;
  align-items: center;
  gap: 0;
  margin-bottom: 1rem;
  transition: all 0.3s ease;
}

.password-input-box.active {
  background: rgba(255, 255, 255, 0.05);
}

.password-input-field {
  flex: 1;
  background: transparent;
  border: none;
  color: #fff;
  font-family: 'IBM Plex Mono', monospace;
  font-size: 0.875rem;
  letter-spacing: 0.1em;
  padding: 0.5rem 1rem;
  outline: none;
  display: none;
}

.password-input-field.active {
  display: block;
}

.password-input-field::placeholder {
  color: rgba(255, 255, 255, 0.5);
}

.password-label-text {
  flex: 1;
  font-size: 0.875rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  cursor: pointer;
  padding: 0.5rem 1rem;
  transition: opacity 0.3s ease;
}

.password-label-text.hidden {
  display: none;
}

.password-submit-btn {
  background: #fff;
  color: #2a2a2a;
  border: none;
  padding: 0.75rem 2rem;
  font-family: 'IBM Plex Mono', monospace;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 120px;
}

.password-submit-btn:hover {
  background: rgba(255, 255, 255, 0.9);
}

.password-submit-btn.hidden {
  display: none;
}

.password-admin-link {
  display: block;
  margin-top: 2rem;
  font-size: 0.75rem;
  letter-spacing: 0.1em;
  color: #fff;
  text-decoration: none;
  text-transform: uppercase;
  transition: opacity 0.3s ease;
}

.password-admin-link:hover {
  opacity: 0.7;
}

.password-error-msg {
  color: #ff6b6b;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  margin-top: 1rem;
  display: none;
}

.password-error-msg.active {
  display: block;
}

@media (max-width: 768px) {
  .password-logo {
    font-size: 2rem;
    margin-bottom: 3rem;
  }
}
</style>

<div class="password-page-wrapper">
  <div class="password-content">
    <div class="password-logo">{{ section.settings.logo_text | default: 'YIMMS' }}</div>

    <form method="post" action="/password" class="password-form-wrapper" id="password-form">
      <input name="form_type" type="hidden" value="storefront_password">
      <input name="utf8" type="hidden" value="âœ“">

      <div class="password-input-box" id="input-wrapper">
        <span class="password-label-text" id="password-label">Password</span>
        <input
          type="password"
          name="password"
          id="password-input"
          class="password-input-field"
          placeholder=""
          autocomplete="off"
        >
        <button type="submit" class="password-submit-btn hidden" id="submit-btn">
          {{ section.settings.button_text | default: 'SIGN UP' }}
        </button>
      </div>

      {% if errors %}
        <p class="password-error-msg active">{{ section.settings.error_text | default: 'Incorrect password. Please try again.' }}</p>
      {% endif %}
    </form>

    {% comment %} <a href="/admin" class="password-admin-link">{{ section.settings.admin_link_text | default: 'Are you the store owner?' }}</a> {% endcomment %}
  </div>
</div>

<script>
  (function() {
    const label = document.getElementById('password-label');
    const input = document.getElementById('password-input');
    const submitBtn = document.getElementById('submit-btn');
    const wrapper = document.getElementById('input-wrapper');

    if (!label || !input || !submitBtn) return;

    label.addEventListener('click', function() {
      label.classList.add('hidden');
      input.classList.add('active');
      submitBtn.classList.remove('hidden');
      wrapper.classList.add('active');
      input.focus();
    });

    {% if errors %}
      label.classList.add('hidden');
      input.classList.add('active');
      submitBtn.classList.remove('hidden');
      wrapper.classList.add('active');
    {% endif %}
  })();
</script>

{% schema %}
{
  "name": "Password Header",
  "settings": [
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo Text",
      "default": "YIMMS"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "SIGN UP"
    },
    {
      "type": "text",
      "id": "error_text",
      "label": "Error Message",
      "default": "Incorrect password. Please try again."
    },
    {
      "type": "text",
      "id": "admin_link_text",
      "label": "Admin Link Text",
      "default": "Are you the store owner?"
    }
  ]
}
{% endschema %}